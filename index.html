<!DOCTYPE html>
<html lang="es">
<head>
  <meta charset="UTF-8" />
  <meta name="viewport" content="width=device-width, initial-scale=1.0"/>
  <title>Test Vocacional Senescyt</title>
  <link rel="stylesheet" href="style.css" />
</head>
<body>

  <h1>Test Vocacional - Senescyt</h1>
  <div id="start">
    <label for="studentName">Ingresa tu nombre completo:</label><br>
    <input type="text" id="studentName" required />
    <br><br>
    <button onclick="startTest()">Comenzar</button>
  </div>

  <form id="testForm" class="hidden">
    <div id="questionsContainer"></div>
    <button type="submit">Ver resultados</button>
  </form>

  <div id="result" class="hidden"></div>

  <script>
    const questions = [
      "Dise침ar programas de computaci칩n...",
      "Criar, cuidar y tratar animales...",
      "Investigar sobre 치reas verdes...",
      "Ilustrar, dibujar y animar digitalmente...",
      "Seleccionar y motivar personal...",
      "Realizar excavaciones arqueol칩gicas...",
      "Resolver problemas de c치lculo...",
      "Dise침ar cursos de salud...",
      "Tocar un instrumento y componer m칰sica...",
      "Planificar metas organizacionales...",
      "Dise침ar producci칩n de art칤culos...",
      "Dise침ar logotipos de revistas...",
      "Organizar eventos...",
      "Atender salud de personas enfermas...",
      "Controlar ingresos y egresos...",
      "Hacer experimentos con plantas...",
      "Dise침ar planos de viviendas...",
      "Investigar productos farmac칠uticos...",
      "Formular estrategias econ칩micas...",
      "Pintar, hacer esculturas...",
      "Elaborar campa침as de marketing...",
      "Tratar problemas visuales...",
      "Defender clientes en juicios...",
      "Dise침ar m치quinas inteligentes...",
      "Investigar trastornos emocionales...",
      "Supervisar ventas...",
      "Rehabilitar personas con discapacidad...",
      "Prepararse para modelaje profesional...",
      "Asesorar sobre inversiones...",
      "Elaborar mapas y planos...",
      "Dise침ar videojuegos educativos...",
      "Controlar calidad de alimentos...",
      "Tener negocio propio...",
      "Escribir cuentos o art칤culos...",
      "Redactar guiones para TV...",
      "Distribuir productos de almac칠n...",
      "Estudiar diversidad cultural...",
      "Evaluar convenios sociales...",
      "Crear campa침as publicitarias...",
      "Investigar reproducci칩n marina...",
      "Fabricar productos alimenticios...",
      "Evaluar proyectos educativos...",
      "Redise침ar espacios interiores...",
      "Administrar empresa tur칤stica...",
      "Aplicar medicina alternativa...",
      "Dise침ar ropa...",
      "Estudiar organismos para vacunas...",
      "Mantenimiento de tecnolog칤a marina...",
      "Estudiar idiomas extranjeros...",
      "Restaurar arte...",
      "Reparar aparatos electr칩nicos...",
      "Ense침ar a ni침os peque침os...",
      "Investigar nuevos mercados...",
      "Atender salud dental...",
      "Tratar problemas psicol칩gicos...",
      "Promover productos en el exterior...",
      "Recomendar dietas saludables...",
      "Trabajar en empresa petrolera...",
      "Administrar una empresa p칰blica o privada...",
      "Reparar veh칤culos...",
      "Trabajar en miner칤a o metalurgia...",
      "Asistir a ejecutivos multinacionales...",
      "Dise침ar programas educativos especiales...",
      "Aplicar estad칤stica en investigaciones...",
      "Fotografiar hechos sociales...",
      "Trabajar en museos y bibliotecas...",
      "Actuar en obras de teatro...",
      "Producir cortometrajes y programas...",
      "Estudiar clima y corrientes marinas...",
      "Estudiar religiones y filosof칤a...",
      "Asesorar en compra de acciones...",
      "Estudiar grupos 칠tnicos...",
      "Explorar el espacio sideral...",
      "Mejorar imagen corporal...",
      "Dise침ar jardines p칰blicos...",
      "Administrar men칰es en hoteles...",
      "Trabajar como presentador de TV...",
      "Dise침ar programas tur칤sticos...",
      "Planificar ciudades con im치genes satelitales...",
      "Administrar centros educativos..."
    ];

const areas = {
  arte: [
    3, 8, 11, 19, 27, 30, 34, 38, 42, 45, 49, 64, 66, 67, 74, 76
  ],
  sociales: [
    5, 12, 22, 24, 23, 36, 37, 41, 48, 51, 54, 62, 65, 69, 71, 77
  ],
  economica: [
    4, 9, 14, 18, 20, 25, 28, 32, 35, 43, 52, 55, 58, 61, 70, 79
  ],
  tecnologia: [
    0, 6, 10, 16, 17, 23, 29, 40, 47, 50, 57, 59, 60, 63, 72, 78
  ],
  salud: [
    1, 2, 7, 13, 15, 21, 26, 31, 39, 44, 46, 53, 56, 68, 73, 75
  ]
};


    const areaInfo = {
      arte: {
        nombre: "Arte y Creatividad",
        carreras: [
          "Dise침o Gr치fico", "Artes Pl치sticas", "Producci칩n Audiovisual",
          "Modelaje", "Fotograf칤a", "Actuaci칩n", "Publicidad"
        ]
      },
      sociales: {
        nombre: "Ciencias Sociales",
        carreras: [
          "Psicolog칤a", "Derecho", "Periodismo", "Relaciones Internacionales",
          "Educaci칩n", "Trabajo Social", "Sociolog칤a"
        ]
      },
      economica: {
        nombre: "Econ칩mica, Administrativa y Financiera",
        carreras: [
          "Administraci칩n de Empresas", "Contabilidad", "Marketing", "Comercio Exterior",
          "Gesti칩n de Recursos Humanos", "Ingenier칤a Comercial"
        ]
      },
      tecnologia: {
        nombre: "Ciencia y Tecnolog칤a",
        carreras: [
          "Ingenier칤a en Sistemas", "Arquitectura", "Electr칩nica", "Telecomunicaciones",
          "Mecatr칩nica", "Estad칤stica", "Astronom칤a"
        ]
      },
      salud: {
        nombre: "Ciencias Ecol칩gicas, Biol칩gicas y de la Salud",
        carreras: [
          "Medicina", "Veterinaria", "Odontolog칤a", "Nutrici칩n", "Biotecnolog칤a",
          "Agronom칤a", "Enfermer칤a"
        ]
      }
    };

    let studentName = "";

    function startTest() {
      const nameInput = document.getElementById("studentName");
      if (!nameInput.value.trim()) {
        alert("Por favor, escribe tu nombre.");
        return;
      }
      studentName = nameInput.value;
      document.getElementById("start").classList.add("hidden");
      document.getElementById("testForm").classList.remove("hidden");
      loadQuestions();
    }

    function loadQuestions() {
      const container = document.getElementById("questionsContainer");
      questions.forEach((q, i) => {
        const div = document.createElement("div");
        div.className = "question";
        div.innerHTML = `
          <label>${i + 1}. ${q}</label><br>
          <input type="radio" name="q${i}" value="1" required> Me interesa
          <input type="radio" name="q${i}" value="0"> No me interesa
        `;
        container.appendChild(div);
      });
    }

document.getElementById("testForm").addEventListener("submit", function(e) {
  e.preventDefault();

  const form = new FormData(e.target);
  let scores = { arte: 0, sociales: 0, economica: 0, tecnologia: 0, salud: 0 };

  for (let area in areas) {
    areas[area].forEach(i => {
      if (form.get(`q${i}`) === "1") scores[area]++;
    });
  }

  // Encontrar el 치rea con mayor puntaje
  const sorted = Object.entries(scores).sort((a, b) => b[1] - a[1]);
  const topArea = sorted[0][0]; // 치rea con m치s puntos

  // Construir el HTML de resultados mostrando todas las 치reas
  let resultsHTML = `<h2>춰Gracias, ${studentName}!</h2><h3>Resultados por 치rea:</h3><ul>`;
  for (const [area, puntos] of sorted) {
    resultsHTML += `<li><strong>${areaInfo[area].nombre}:</strong> ${puntos} puntos</li>`;
  }
  resultsHTML += `</ul>`;

  // Mostrar carreras solo para el 치rea con mayor puntaje
  resultsHTML += `
    <hr>
    <h3>游꿢 츼rea donde m치s destacas: <strong>${areaInfo[topArea].nombre}</strong></h3>
    <p><strong>Carreras sugeridas:</strong> ${areaInfo[topArea].carreras.join(", ")}</p>
  `;

  // Mostrar el resultado en la p치gina
  document.getElementById("testForm").classList.add("hidden");
  document.getElementById("result").classList.remove("hidden");
  document.getElementById("result").innerHTML = resultsHTML;

  // Preparar datos para enviar a Google Sheets: incluir todas las 치reas con puntaje
  const payload = {
    nombre: studentName,
    fecha: new Date().toLocaleString()
  };
  for (const [area, puntos] of Object.entries(scores)) {
    payload[area] = puntos;
  }

  // Enviar a Google Sheets (ajusta 'TU_URL_DEL_SCRIPT' a tu URL real)
  fetch('https://script.google.com/macros/s/AKfycbz7HqojjTuqdLho3Hu68SEAt2IZ8Ljj3G_toSAk_x4qRfNAoOMKc0lHnpfApSljg_kV/exec', {
    method: "POST",
  headers: {
    "Content-Type": "application/json",
  },
  body: JSON.stringify(payload),
})
    .then(response => {
      if (!response.ok) throw new Error("Error al enviar los datos");
      console.log("Datos enviados correctamente");
    })
    .catch(error => {
      console.error("Error al enviar los datos:", error);
    });
});
  </script>
</body>
</html>
